---
# WNs
# autofs role
wn_autofs_mounts:
  - name: "{{ gridsite_local_users_homedir | regex_replace('^\\/', '') }}"
    path: '{{ gridsite_local_users_homedir }}'
    source: '{{ gridsite_nfs_local_home_server }}'
  - name: 'home'
    path: '/home'
    source: "{{ groups['ce_arc'][0] }}"
  - name: '{{ arc_frontend_sessiondir | basename }}'
    path: '{{ arc_frontend_sessiondir }}'
    source: "{{ groups['ce_arc'][0] }}"

# CVMFS client
#CMS wants a slot dependant cvmfs cache size.
#A 2nd order fit of their requrements is close to: a=-0.00152, b=1.16995, c=35.19608
cvmfs_cache_size: '{{ (-0.00152 * ansible_processor_nproc * ansible_processor_nproc
  + 1.16995 * ansible_processor_nproc + 35.19608)/2 | int * 2048 }}'
